<!DOCTYPE html><html lang="en-US"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Series: Exploring New Features in C# (Version 7 to 11)</title><meta property="og:title" content="Series: Exploring New Features in C# (Version 7 to 11)"><meta name="description" content="Series: Exploring New Features in C# (Version 7 to 11) Published on 4 July 2023 03:00 AM #Csharp #.net Article 1: New Features in C# 7 In..."><meta property="og:description" content="Series: Exploring New Features in C# (Version 7 to 11) Published on 4 July 2023 03:00 AM #Csharp #.net Article 1: New Features in C# 7 In..."><meta name="keywords" content=""><meta name="author" content="Daniel H"><meta name="robots" content="index, follow"><meta property="og:image" content="/assets/img/literal_improvement.png"><link rel="canonical" href="https://devdigest.net/csharp-7-new-features/"><link rel="icon" type="image/svg+xml" href="/assets/img/logo.svg"><link rel="apple-touch-icon" href="/assets/img/apple-touch-icon.png"><link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://fonts.gstatic.com"><link rel="preload" href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600&amp;display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'"><noscript><link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600&amp;display=swap" rel="stylesheet" type="text/css"></noscript><link rel="stylesheet" href="/assets/css/main.css"></head><body class="flex flex-col min-h-screen bg-secondary-50 text-secondary-800 break-words"><header id="header" class="bg-primary text-white py-4 px-6"><div class="flex flex-wrap justify-between"><div class="w-full sm:w-auto font-semibold"><a href="/" aria-label="Link to Dev Digest home"><svg viewBox="0 0 248 32" xmlns="http://www.w3.org/2000/svg" class="h-6 w-auto mb-2 sm:mb-0" aria-label="Site Logo"><polygon points="16,32 32,24 32,8 16,0 0,8 0,24" fill="#00857B" stroke-width="1" stroke="#4FD1C5"></polygon><text x="16" y="16" font-size="10" fill="#E2E8F0" text-anchor="middle" alignment-baseline="central">&lt;/D&gt;</text><text x="40" y="22" font-size="18" fill="#E2E8F0">DevDigest</text></svg></a></div><div id="menu-toggle" class="flex items-center md:hidden text-secondary hover:text-accent cursor-pointer sm:ml-6" aria-label="Toggle menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu" aria-label="Menu icon"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div><div class="flex items-center sm:flex-grow-0"><nav id="menu" class="order-last md:order-none items-center flex-grow w-full md:w-auto md:flex hidden mt-2 md:mt-0" aria-label="Main menu"><div class="flex flex-wrap items-center text-base justify-center"><a href="/" class="block mt-4 md:inline-block md:mt-0 font-medium text-primary-200 hover:text-secondary text-base mr-4" aria-label="Home">Home</a> <a href="/tags" class="block mt-4 md:inline-block md:mt-0 font-medium text-primary-200 hover:text-secondary text-base mr-4" aria-label="Tags">Tags</a> <a href="/about" class="block mt-4 md:inline-block md:mt-0 font-medium text-primary-200 hover:text-secondary text-base mr-4" aria-label="About">About</a></div></nav><form id="search" action="/search" aria-label="Search box" class="order-last sm:order-none flex-grow items-center justify-end hidden sm:block mt-6 sm:mt-0"><label class="visually-hidden" for="header-searchbox">Search here ...</label> <input type="text" id="header-searchbox" name="q" placeholder="Search here ..." class="w-full sm:max-w-xs bg-slate-200 border border-transparent float-right focus:bg-white focus:border-slate-300 focus:outline-none h-8 p-4 placeholder-slate-500 rounded text-slate-700 text-sm" aria-label="Search" autocomplete="off"></form></div></div></header><div class="flex flex-grow flex-col md:flex-row"><div class="bg-accent-50 p-4 hidden md:flex md:w-1/6"><div class="mb-4"><picture><source srcset="/assets/img/me-1920w.avif 1920w, /assets/img/me-1280w.avif 1280w, /assets/img/me-640w.avif 640w, /assets/img/me-320w.avif 320w" sizes="(max-width: 608px) 100vw, 608px" type="image/avif"><source srcset="/assets/img/me-1920w.webp 1920w, /assets/img/me-1280w.webp 1280w, /assets/img/me-640w.webp 640w, /assets/img/me-320w.webp 320w" sizes="(max-width: 608px) 100vw, 608px" type="image/webp"><source srcset="/assets/img/me-1920w.jpg 1920w, /assets/img/me-1280w.jpg 1280w, /assets/img/me-640w.jpg 640w, /assets/img/me-320w.jpg 320w" sizes="(max-width: 608px) 100vw, 608px" type="image/jpeg"><img src="/assets/img/me-1920w.jpg" alt="Blog Owner" class="rounded-full w-24 h-24 object-cover object-center" width="2988" height="3735" decoding="async" loading="lazy" style="background-size:cover;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 2988 3735'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAJCAIAAABxOqH0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0UlEQVR4nAHGADn/AOXItvXOufbUtfflufXZvPjWwPbZxACej33ZvKe8ln7JnYDauJ/gw7HJtqgASEQ0cWZQX0g8cUxFlXJkvqCQr5aFACEeExgYDDopIEUoIXtaTcWei6iKeAAMDwcWGQ8oHxgzIBo5KR5MQTY7NC0APkc2eH6BRERIHBcXS0tAOT8kNjojAHV/gYCHkV9lblRRU4CCiVRXSz9CJwBmYl2BaFtbWVpcY2txdX1hZGExOR8AUEMxfl1HXFJKUFdeWF9kQDw2OjYj0TRN4Vsa/vAAAAAASUVORK5CYII='%3E%3C/image%3E%3C/svg%3E&quot;)"></picture></div></div><main class="bg-secondary-50 mx-7 lg:mx-6 mt-4 md:w-5/6 flex-grow"><article class="max-w-5xl mx-auto"><header class="mb-14"><h1 class="text-3xl text-center font-bold leading-normal text-slate-900 mt-0 mb-3">Series: Exploring New Features in C# (Version 7 to 11)</h1><div class="text-center">Published on 4 July 2023 03:00 AM</div><div class="mt-3 text-center"><a href="/tags/CSharp" aria-label="Link to post with tag CSharp" class="inline-block mx-1 mb-3 px-4 py-2 bg-primary-900 text-accent-500 font-medium rounded-sm">#Csharp </a><a href="/tags/.NET" aria-label="Link to post with tag .NET" class="inline-block mx-1 mb-3 px-4 py-2 bg-primary-900 text-accent-500 font-medium rounded-sm">#.net</a></div><div class="mt-10 mx-7 md:mx-0"><picture><source srcset="/assets/img/literal_improvement-1920w.avif 1920w, /assets/img/literal_improvement-1280w.avif 1280w, /assets/img/literal_improvement-640w.avif 640w, /assets/img/literal_improvement-320w.avif 320w" sizes="(max-width: 608px) 100vw, 608px" type="image/avif"><source srcset="/assets/img/literal_improvement-1920w.webp 1920w, /assets/img/literal_improvement-1280w.webp 1280w, /assets/img/literal_improvement-640w.webp 640w, /assets/img/literal_improvement-320w.webp 320w" sizes="(max-width: 608px) 100vw, 608px" type="image/webp"><source srcset="/assets/img/literal_improvement-1920w.png 1920w, /assets/img/literal_improvement-1280w.png 1280w, /assets/img/literal_improvement-640w.png 640w, /assets/img/literal_improvement-320w.png 320w" sizes="(max-width: 608px) 100vw, 608px" type="image/png"><img class="w-full max-w-2xl mx-auto" src="/assets/img/literal_improvement-1920w.png" width="960" height="500" alt="Thumbnail image for the post: Series: Exploring New Features in C# (Version 7 to 11)" decoding="async" loading="lazy" style="background-size:cover;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 563 275'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAFCAYAAACTphZWAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAlUlEQVR4nGWN246DIBgGef93LAtorSc8VOEXDUxTk92bneS7/GbU4Beqp+fZtszdymQ29jVwHMc9EWHfd2KMqKZJaO0x5oGvFuIr8u5XUhRyLuSc+UW1XYc1DmMt3lpiXRGamto5tNYMfc91XRQKyr08zTCzLjPLNCHbximCSCSEcOdTSvdB/div1TGOI+d5Ucpf9R8f5rXSXTjoBwoAAAAASUVORK5CYII='%3E%3C/image%3E%3C/svg%3E&quot;)"></picture></div></header><div id="content" class="prose text-slate-800 max-w-none"><h1>Article 1: New Features in C# 7</h1><p>In this series of article titled "Exploring New Features in C#",we will see the new features introduced in C# version of 7 to 11. Over the years,C# 7 introduced several exciting features and enhancements that improved the developer experience and made the language more powerful. In this article, we will explore three major features added in C# 7 along with code snippets demonstrating their usage.</p><h2>Tuples</h2><p>Before the introduction of tuples C# 7, developers often had to create custom classes or structures to represent a group of related values. For example, if you wanted to return multiple values from a method, you would have to define a new class or structure to encapsulate those values. With the introduction of tuples in C# 7, you can now return multiple values from a method without the need to create custom classes or structures. Tuples provide a concise way to represent a group of values. You can declare a tuple using parentheses and specify the types of its elements.</p><pre class="language-c#"><code class="language-c#">(string, int) GetPersonDetails()
{
    string name = "John Doe";
    int age = 30;
    return (name, age);
}

void Main()
{
    var person = GetPersonDetails();
    Console.WriteLine($"Name: {person.Item1}, Age: {person.Item2}");
}
</code></pre><p>In the above example, the <code>GetPersonDetails</code> method returns a tuple with two values: a string representing the name and an integer representing the age. The values are assigned to person, and you can access them using the Item1 and Item2 properties of the tuple</p><h3>Tuples Deconstruction</h3><p>A deconstructing declaration is a syntax for splitting a tuple (or other value) into its parts and assigning those parts individually to fresh variables instead of using Item1, Item2, etc</p><pre class="language-csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token function">GetPersonDetails</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Name: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">name</span><span class="token punctuation">}</span></span><span class="token string">, Age: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">age</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><h2>Pattern Matching</h2><p>Before pattern matching was introduced in C# 7, developers often had to use a combination of conditional statements and type checking to determine the shape or structure of data and perform appropriate actions.</p><p>Pattern matching simplifies complex conditional statements by allowing you to match values against patterns. It enables you to perform actions based on the shape or structure of the data, improving readability and reducing code duplication.</p><pre class="language-C#"><code class="language-C#">void ProcessShape(Shape shape)
{
    if (shape is Circle circle)
    {
        Console.WriteLine($"Circle with radius {circle.Radius}");
    }
    else if (shape is Rectangle rectangle)
    {
        Console.WriteLine($"Rectangle with dimensions {rectangle.Width}x{rectangle.Height}");
    }
    else if (shape is null)
    {
        Console.WriteLine("No shape provided.");
    }
    else
    {
        Console.WriteLine("Unknown shape.");
    }
}
</code></pre><p>In the above example, the <code>ProcessShape</code> method accepts a <code>Shape</code> parameter. Using pattern matching, we can check the type of the shape and perform specific actions accordingly. If the shape is a <code>Circle</code>, then the object is assigned to the variable <code>circle</code>, and we can access its <code>Radius</code> via <code>circle.Radius</code> property. If it's a Rectangle, we can access its Width and Height properties. If no shape is provided or an unknown shape is passed, appropriate messages are displayed.</p><p>Switch statements with patterns provide a powerful way to perform different actions based on the patterns matched by the input value. You can use patterns such as type patterns, constant patterns, and more. Below is an example of type patterns in a switch statement</p><pre class="language-csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ProcessShape</span><span class="token punctuation">(</span><span class="token class-name">Shape</span> shape<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>shape<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token class-name">Circle</span> circle<span class="token punctuation">:</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Circle with radius </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">circle<span class="token punctuation">.</span>Radius</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token class-name">Rectangle</span> rectangle<span class="token punctuation">:</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Rectangle with dimensions </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">rectangle<span class="token punctuation">.</span>Width</span><span class="token punctuation">}</span></span><span class="token string">x</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">rectangle<span class="token punctuation">.</span>Height</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token keyword">null</span><span class="token punctuation">:</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"No shape provided."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Unknown shape."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><h2>Inline Declaration of Out Variables</h2><p>Before C# 7, when using the out keyword to return multiple values from a method, you had to declare the variables outside the method call. C# 7 introduced the ability to declare out variables inline when calling a method</p><pre class="language-csharp"><code class="language-csharp">
<span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">TryParseInt</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> input<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">int</span></span> result<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">TryParse</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token keyword">out</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">TryParseInt</span><span class="token punctuation">(</span><span class="token string">"123"</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">int</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Parsed value: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">value</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span>
    <span class="token punctuation">{</span>
        Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token string">"Invalid input"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><p>In the above example, the <code>TryParseInt</code> method attempts to parse a string as an integer and returns a boolean indicating the success of the parsing. In C# 7, you can declare the value variable inline in the method call itself, eliminating the need for an additional variable declaration.</p><h2>Ref Returns and Locals</h2><p>C# 7 introduced the ability to return references to variables (ref returns) and store references in local variables (ref locals). This allows you to pass variables by reference and modify their values directly, without creating unnecessary copies.</p><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">ref</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">FindLargestNumber</span><span class="token punctuation">(</span><span class="token keyword">ref</span> <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> numbers<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">int</span></span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> numbers<span class="token punctuation">.</span>Length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>numbers<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> numbers<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            index <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">ref</span> numbers<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> nums <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">ref</span> <span class="token class-name"><span class="token keyword">int</span></span> largest <span class="token operator">=</span> <span class="token keyword">ref</span> <span class="token function">FindLargestNumber</span><span class="token punctuation">(</span><span class="token keyword">ref</span> nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
    largest <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Modified Largest Number: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">nums<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span></span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>In the above example, the <code>FindLargestNumber</code> method returns a reference to the largest number in an array of integers. By using ref in the method signature and returning <code>ref numbers[index]</code>, we can directly modify the value of the largest number in the array as shown in the main method.</p><h2>Generalized Async Return Types</h2><p>C# 7 introduced the ability to use generalized async return types, allowing methods to return any type that implements the Task or ValueTask pattern. This improves performance and reduces unnecessary allocations when working with asynchronous</p><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">&gt;</span></span> <span class="token function">GetResultAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> resultTask <span class="token operator">=</span> <span class="token function">GetResultAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Do other work while waiting for the result</span>
    <span class="token class-name"><span class="token keyword">int</span></span> result <span class="token operator">=</span> resultTask<span class="token punctuation">.</span><span class="token function">GetAwaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Result: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">result</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>In the above example, the <code>GetResultAsync</code> method asynchronously delays for 1000 milliseconds and returns an integer value. With C# 7, the method signature can directly specify <code>Task&lt;int&gt;</code> as the return type, indicating that the method returns an asynchronous task that will eventually produce an integer result.</p><h2>More Expression-Bodied Members</h2><p>C# 7 expanded the support for expression-bodied members, allowing you to use expression syntax instead of block syntax for more members, such as properties, methods, and constructors. This leads to more concise and readable code.</p><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">Person</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Age <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> age<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>Name<span class="token punctuation">,</span> Age<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">GetInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token interpolation-string"><span class="token string">$"Name: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Name</span><span class="token punctuation">}</span></span><span class="token string">, Age: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">Age</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Person</span><span class="token punctuation">(</span><span class="token string">"John Doe"</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span><span class="token function">GetInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>In the above example, the <code>Person</code> class demonstrates the usage of expression-bodied members. The constructor and the <code>GetInfo</code> method are defined using the expression syntax, reducing the code verbosity and making it more concise.</p><h2>Throw Expressions</h2><p>C# 7 introduced throw expressions, allowing you to throw exceptions as part of an expression. This simplifies error handling and eliminates the need for separate statements to throw exceptions.</p><pre class="language-csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Divide</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> x<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> y<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DivideByZeroException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> x <span class="token operator">/</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">Main</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">int</span></span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">int</span></span> result <span class="token operator">=</span> <span class="token punctuation">(</span>b <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token function">Divide</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ArgumentException</span><span class="token punctuation">(</span><span class="token string">"Divisor cannot be zero."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Result: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">result</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><p>In the above example, the <code>Divide</code> method checks if the divisor (y) is zero. If it is, a <code>DivideByZeroException</code> is thrown using the throw expression. Otherwise, the division is performed. This allows for concise and expressive error handling within expressions.</p><h2>Literal Improvements</h2><p>C# 7 introduced several improvements to literals, making them more flexible and easier to use. Some examples include binary literals, digit separators, and more.</p><pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">int</span></span> binaryLiteral <span class="token operator">=</span> <span class="token number">0b101010</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">long</span></span> longLiteral <span class="token operator">=</span> <span class="token number">123_456_789_012</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">double</span></span> number <span class="token operator">=</span> <span class="token number">3.14_15_92</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> formattedNumber <span class="token operator">=</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">number</span><span class="token format-string"><span class="token punctuation">:</span>N2</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Binary Literal: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">binaryLiteral</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Long Literal: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">longLiteral</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Formatted Number: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">formattedNumber</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>In the above example, we demonstrate the usage of binary literals (0b prefix), digit separators (underscore _), and string interpolation with a numeric format specifier (N2 for two decimal places). These improvements make literals more expressive and easier to read.</p><h2>Local Functions</h2><p>Before local functions were introduced in C# 7, developers often had to create separate private methods outside the current method to encapsulate helper logic. This could lead to cluttered code and reduced code readability.</p><p>C# 7 introduced local functions, which are methods defined inside another method. Local functions improve code organization and encapsulation by allowing you to define helper functions that are only used within a specific context.</p><pre class="language-csharp"><code class="language-csharp"><span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ProcessData</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> data<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Local function to calculate the sum of an array</span>
    <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">CalculateSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">int</span></span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> num <span class="token keyword">in</span> data<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            sum <span class="token operator">+=</span> num<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name"><span class="token keyword">int</span></span> sum <span class="token operator">=</span> <span class="token function">CalculateSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Sum of the array: </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">sum</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>In the above example, the <code>ProcessData</code> method takes an array of integers as input. Inside the method, we define a local function called CalculateSum that calculates the sum of the array elements. The local function can access the data parameter and perform the necessary calculations. Finally, the sum is printed to the console.</p><h2>Conclusion</h2><p>C# 7 introduced several powerful features such as tuples, pattern matching, and local functions that enhanced the language's capabilities. These features simplified common programming tasks and made the code more concise and readable. With tuples, you can easily return multiple values without creating custom classes. Pattern matching allows you to simplify conditional statements based on the shape or structure of data. Local functions improve code organization and encapsulation by defining helper functions within a specific context. Stay tuned for the next article in the series, where we will explore the new features added in C# 8.</p></div></article></main></div><footer class="py-4 bottom-0 w-full bg-primary-600"><div class="max-w-5xl mx-auto text-white text-center"><a href="/" class="font-medium" target="_blank" rel="noopener" aria-label="Link to Dev Digest home">Dev Digest</a>.</div></footer><script src="/assets/js/bundle.js"></script></body></html>